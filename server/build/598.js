"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[598],{3598:(e,t,n)=>{n.d(t,{Z:()=>v});n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(8674);var r=n(910),i=(n(5666),n(4916),n(4765),n(7294)),o=n(1421),u=n(2804),a=n(3078),c=n(7244),s=n(8061),l=n(5390),f=n(691);function p(e,t,n,r,i,o,u){try{var a=e[o](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){p(o,r,i,u,a,"next",e)}function a(e){p(o,r,i,u,a,"throw",e)}u(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);u=!0);}catch(e){a=!0,i=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=0;const v=function(e){var t=e.btnContent,n=e.mode,r=(0,o.u)(),s=(0,l.s0)(),p=h((0,i.useState)(""),2),d=p[0],v=p[1],x=h((0,i.useState)(""),2),b=x[0],w=x[1],A=h((0,i.useState)(""),2),S=A[0],k=A[1],C=h((0,i.useState)(.5),2),E=C[0],L=C[1],Z=(0,u.Zl)(c.f);(0,i.useEffect)((function(){return function(){return clearTimeout(g)}}),[]),(0,i.useEffect)((function(){return z()}),[d,b,S]);var z=function(){"로그인"===n?L(d&&b?1:.5):"회원가입"===n&&L(d&&b&&S?1:.5)},T=function(e){if(e.preventDefault(),"로그인"===n)q();else if("회원가입"===n){R()&&D()}},R=function(){return j()?I()?b===S||(Z({isActive:!0,title:"비밀번호가 일치하지 않습니다.",mode:"caution"}),!1):(Z({isActive:!0,title:"비밀번호는 영어+숫자+특수문자 조합만 가능합니다 (한글 주의)",mode:"caution"}),!1):(Z({isActive:!0,title:"ID는 영어 또는 영어+숫자 조합만 가능합니다.",mode:"caution"}),!1)},j=function(){return-1!==d.search(/[a-zA-Z]/g)&&!(d.search(/[^a-zA-Z0-9]/g)>=0)},I=function(){return-1!==b.search(/[a-zA-Z]/g)&&-1!==b.search(/[0-9]/g)&&-1!==b.search(/[~!@#$%^&*-+=]/g)},q=function(){var e=m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.hi.post("/users/login",{id:d,password:b});case 2:if((t=e.sent).isSuccess){e.next=6;break}return Z({isActive:!0,title:t.message,mode:"fail"}),e.abrupt("return");case 6:s("/main");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=m(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.hi.post("/users/register",{id:d,password:b});case 2:if((t=e.sent).isSuccess){e.next=6;break}return Z({isActive:!0,title:t.message,mode:"fail"}),e.abrupt("return");case 6:Z({isActive:!0,title:"회원가입이 되었습니다❗️",content:"2초 후 로그인페이지로 이동합니다",mode:"success"}),O();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){g=setTimeout((function(){s("/")}),2e3)};return i.createElement(y,{onSubmit:T,color:r.colors.blue},i.createElement("input",{value:d,onChange:function(e){return v(e.currentTarget.value)},type:"text",autoComplete:"username",required:!0,placeholder:"아이디",minLength:"회원가입"===n?"6":"",maxLength:"16"}),i.createElement("input",{value:b,onChange:function(e){return w(e.currentTarget.value)},type:"password",autoComplete:"current-password",required:!0,placeholder:"비밀번호",minLength:"회원가입"===n?"6":"",maxLength:"12"}),"회원가입"===n&&i.createElement("input",{value:S,onChange:function(e){return k(e.currentTarget.value)},type:"password",required:!0,placeholder:"비밀번호 재확인",minLength:"6",maxLength:"12"}),i.createElement(a.Z,{opacity:E,sizeLevel:3,bgColor:r.colors.blue,onSubmit:T,type:"submit"},t))};var y=(0,r.Z)("form",{target:"em1rmg20"})("display:flex;flex-direction:column;gap:20px;input{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:0px 24px;width:340px;height:64px;font-size:16px;line-height:28px;color:black;background:",(function(e){return e.theme.colors.input}),";border-radius:16px;}.login-button{",s.Xf," padding:0px 24px;width:340px;height:64px;background:",(function(e){return e.color}),";opacity:",(function(e){return e.opacity}),";border-radius:20px;span{color:white;font-family:Noto Sans KR;font-style:normal;font-weight:bold;font-size:18px;line-height:32px;}}")}}]);